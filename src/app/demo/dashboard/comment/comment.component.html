
<div class="container-fluid mt-5" style="position: relative;">

    <div class="loader" *ngIf="loader">
        <img src="../../../../assets/images/loading.gif" />
    </div>

<div class="table_data card p-3">
    <div class="row">
        <div class="col-lg-12">
            <div *ngIf="message!='' && error==true" class="alert alert-success w-100" role="alert">
                {{message}}
            </div>

            <div *ngIf="message!='' && error!=true" class="alert alert-danger w-100" role="alert">
                {{message}}
            </div>

        </div>
    </div>
    <div class="col-lg-12">
        <h3 class="text-center">{{blog[0].blog.title}}</h3>
    </div>
 
    <h5>All Comments</h5>
    
	<table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%" >
        <thead>
            <tr>
                <th>S.no</th>
                <th>User Name</th>
                <th>User Email</th>
                <th>User Comment</th>
                <th>Comment Date</th>
                <th>Status</th>
                <td>View All Comment</td>
              
                <th>Action</th>
              
            </tr>
        </thead>
        <!-- <tfoot>
            <tr>
                <th>S.no</th>
                <th>Country</th>
                <th>Code</th>
                <th>Status</th>
                <th>Action</th>
            </tr>
        </tfoot> -->
        <tbody>
            <tr  *ngFor="let data of blog;let index=index">
                <td>{{index+1}}</td>
                <td>{{data.commentedBy}}</td>
                <td>{{data.email}}</td>
                <td>{{data.content}}</td>
                <td>{{data.commentedOn}}</td>
                <td *ngIf="data.status=='Approved'" style="color: green; font-weight: bold;">{{data.status}}</td>
                <td *ngIf="data.status=='Inactive'" style="color:red; font-weight: bold;">{{data.status}}</td>
                <td><button class="btn btn-primary " style="font-size: 10px;"  data-toggle="modal" data-target="#exampleModal" (click)="viewAllComment(data.id,data.content)"> View All comment</button></td>
                

                <td style=" display:inline-flex;"> <button class="btn btn-success" *ngIf="data.status!='Approved'" (click)="OnCheck(data.id)"><i class="ng-tns-c22-2 feather icon-check"></i></button> <button class="btn btn-danger" (click)="onDelete(data.id)" ><i class="ng-tns-c22-2 feather icon-trash"></i></button> </td>
               
            </tr>
         
          
            
        
        </tbody>
    </table>
    

</div>

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document" style="margin-left: 5%;">
      <div class="modal-content" style="width: 250%;">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <div class="table_data card p-3">
                <div class="row">
                    <div class="col-lg-12">
                        <div *ngIf="message!='' && error==true" class="alert alert-success w-100" role="alert">
                            {{message}}
                        </div>
            
                        <div *ngIf="message!='' && error!=true" class="alert alert-danger w-100" role="alert">
                            {{message}}
                        </div>
            
                    </div>
                </div>
                <div class="col-lg-12">
                    <h3 class="text-center">{{commentOnData}}</h3>
                </div>
             
                <h5>Reply of Comments</h5>
                
                <table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%" >
                    <thead>
                        <tr>
                            <th>S.no</th>
                            <th>User Name</th>
                            <th>User Email</th>
                            <th>User Comment</th>
                            <th>Comment Date</th>
                            <th>Status</th>
                            <!-- <td>View All Comment</td> -->
                          
                            <th>Action</th>
                          
                        </tr>
                    </thead>
                    <!-- <tfoot>
                        <tr>
                            <th>S.no</th>
                            <th>Country</th>
                            <th>Code</th>
                            <th>Status</th>
                            <th>Action</th>
                        </tr>
                    </tfoot> -->
                    <tbody>
                        <tr  *ngFor="let data of replyOf;let index=index">
                            <td>{{index+1}}</td>
                            <td>{{data.commentedBy}}</td>
                            <td>{{data.email}}</td>
                            <td>{{data.content}}</td>
                            <td>{{data.commentedOn}}</td>
                            <td *ngIf="data.status=='Approved'" style="color: green; font-weight: bold;">{{data.status}}</td>
                            <td *ngIf="data.status=='Inactive'" style="color:red; font-weight: bold;">{{data.status}}</td>
                            <!-- <td><button class="btn btn-primary " style="font-size: 10px;" (click)="viewAllComment(data.id)"> View All comment</button></td> -->
                            
            
                            <td style=" display:inline-flex;"> <button class="btn btn-success" *ngIf="data.status!='Approved'" (click)="OnCheck(data.id)"><i class="ng-tns-c22-2 feather icon-check"></i></button> <button class="btn btn-danger" (click)="onDelete(data.id)" ><i class="ng-tns-c22-2 feather icon-trash"></i></button> </td>
                           
                        </tr>
                     
                      
                        
                    
                    </tbody>
                </table>
                
            
            </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        
        </div>
      </div>
    </div>
  </div>

